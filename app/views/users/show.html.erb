
<p>
  <b>Profile page for </b>
  <%= @user.name %>
</p>

<h3><%= "#{@user.name}'s Posts"%></h3>

<table>
    <tr>
        <th>Votes</th>
        <th></th>
        <th>Title</th>
        <th>Posted</th>
        <th>Comments</th>
    </tr>
    <% counter = 1 %>
    <% @user.posts.each do |post| %>
        <tr>
            <td>
                <%= link_to '▲', post_votes_path(post, direction: 'up'), method: 'post', remote: true if logged_in? %>
                <br/>
                <span id="total_votes_<%= post.id %>">
                    (<%= post.total_votes %>)
                </span>
                <br/>
                <%= link_to '▼', post_votes_path(post, direction: 'down'), method: 'post', remote: true if logged_in? %>
            </td>
            <td><%= counter.to_s + '.' %></td>
            <td><%= link_to(post.title, fix_url(post.url)) %></td>
            <td><%= post.created_at.strftime('%d/%m/%Y at %I:%M %p') %></td>
            <td><%= link_to post.comments.size, post_comments_path(post) %></td>
            <td><%= link_to 'Edit', edit_post_path(post)%></td>
            <td> |  <%= link_to 'Show', post_path(post) %></td>
            <td> |  <%= link_to 'Delete', post, method: :delete, confirm: "Are you sure?" %></td>
        </tr>
        <% counter += 1 %>
    <% end %>
</table>
<hr/>

<h3><%= "#{@user.name}'s Comments "%></h3>
<% @user.comments.each do |comment| %>
    <%= comment.body %>
    commented on: 
    <%= link_to(display_title(comment.post), fix_url(comment.post.url)) %>
    <hr/>
<% end %>

<h3><%= "#{@user.name}'s Votes "%></h3>
<% @user.votes.each do |vote| %>
    <% if vote.vote == false %>
        downvoted on: 
    <% else %>
        upvoted on:
    <% end %>
    <%= link_to(display_title(vote.post), fix_url(vote.post.url)) %>
    <br/>
<% end %>






















